{% extends 'base.html.twig' %}

{% block body %}
    <h1>Gestion articles</h1>

    <a href="{{ path('app_admin_article_edit') }}" class="btn btn-outline-primary mb-3">
        Rédiger un article
    </a>

    {#
    Ajouter une colonne avec le nombre de commentaires
    qui soit un lien clicable vers une page qui liste les commentaires
    de l'article dans un tableau HTML avec un bouton "supprimer" pour la modération
    #}

    <table class="table table-stripped">
        <tr class="table-dark">
            <th>Id</th>
            <th>Titre</th>
            <th>Date pub.</th>
            <th>Catégorie</th>
            <th>Auteur</th>
            <th>Commentaires</th>
            <th width="250px"></th>
        </tr>
        {% for article in articles %}
        <tr>
            <td>{{ article.id }}</td>
            <td>{{ article.title }}</td>
            <td>{{ article.publicationDate|date('d/m/Y H:i') }}</td>
            <td>{{ article.category }}</td>
            <td>{{ article.author }}</td>
            <td class="text-center"></td>
            <td>
                <a href="{{ path('app_admin_article_edit', {'id': article.id}) }}" class="btn btn-primary">
                    Modifier
                </a>
                <a href="{{ path('app_admin_article_delete', {'id': article.id}) }}" class="btn btn-danger">
                    Supprimer
                </a>
            </td>
        </tr>
        {% endfor %}
    </table>
{% endblock %}